<%= render 'layouts/top-navigation-bar' %>
<header class="services-header no-margin-bottom">
  <div class="primary-dark-div">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-push-4 col-md-7 col-md-push-5 col-sm-6 col-sm-push-6">
          <div class="profile-header-text">
            <h1><%= @user.firstname + " " + @user.lastname %></h1>
            <!--<h2>@nerzid</h2>-->
            <h2><%= @user.email %></h2>
          </div>
        </div>
      </div>

      <div class="profile-avatar-container">
        <!--<img class="profile-avatar" height="250px" width="250px" src="https://scontent-ams3-1.xx.fbcdn.net/v/t1.0-9/15673026_10155498726913265_8459015458711860567_n.jpg?oh=24a471672467a43d9d0bb2082ea9e543&oe=5972BCEA" alt="">-->
        <%= form_for @user, url: user_path, html: {multipart: true} do |form| %>
            <%= form.file_field :avatar, :class => "avatar_file_upload", "onchange" => "this.form.submit();" %>
        <% end %>
        <div class="profile-avatar"  style="width: 270px; height: 270px;">
          <%= image_tag @user.avatar.url(:medium), :class => "avatar-picture" %>
          <div class=" avatar-icon">
            <span class="glyphicon glyphicon-camera" style="font-size: 50px; width: inherit; height: inherit "></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- This script is to give the effect of the uploading image like facebook -->
<script type="application/javascript">
    $(function () {
        $(".profile-avatar").mouseover(function () {
            $(".avatar-icon").css("opacity", "1");
            $(".avatar-picture").css("opacity", "0.5");
        });
        $(".profile-avatar").mouseleave(function () {
            $(".avatar-icon").css("opacity", "0");
            $(".avatar-picture").css("opacity", "1");
        });
    });


    $(".profile-avatar").click(function () {
        $(".avatar_file_upload").click();
    });

</script>

<style type="text/css">

  .avatar_file_upload {
    visibility: hidden;
  }

  .avatar-icon {
    opacity: 0;
    position: absolute;
    left: 50%;
    top: 90%;
    transform: translate(-50%, -50%);
    width: 100%; /* You can specify ANY width values here */
    background-color: #2E2F30;
  }

  .avatar-picture {
    margin: auto;
  }

  .profile-avatar {
    text-align: center;
  }

</style>

<nav class="nav-profile">
  <div class="container">
    <div class="col-lg-8 col-lg-push-4 col-md-7 col-md-push-5 col-sm-6 col-sm-push-6">
      <ul class="profile-counters">
        <li><a href="#"><%= @user.posts.count %> <span>Posts</span></a></li>
        <!--<li><a href="#">75 <span>Comments</span></a></li>-->
        <!--<li><a href="#">148 <span>Tweets</span></a></li>-->
      </ul>
    </div>
  </div>
</nav>

<!--<div class="container">-->
<!--<section>-->
<!--<h3 class="timeline-title"><span>2017</span></h3>-->
<!--<div class="row timeline">-->
<!--<div class="col-sm-6 timeline-left">-->
<!--<div class="timeline-event timeline-event-left animated bounceInLeft animation-delay-3">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading"><strong>Heading Event</strong> - 9 July</div>-->
<!--&lt;!&ndash;<img src="assets/img/demo/w1.jpg" class="img-responsive" alt="Image">&ndash;&gt;-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, <strong>consectetur adipisicing elit</strong>. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret quosvis, tutiorem minuti religionis offendimur iniucundus sentiant venustate torquatos virtus, aequo periculis ducem perveniri maximis. Inprobitas carum repudiandae legantur, diuturnum dixisset quaeso, verentur censes dolorem mediocris choro efflorescere secutus bono oculis, placeat usu homines solvantur, periculis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-left animated bounceInLeft animation-delay-9">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event - 27 September</div>-->
<!--&lt;!&ndash;<img src="assets/img/demo/w2.jpg" class="img-responsive" alt="Image">&ndash;&gt;-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret quosvis, tutiorem minuti religionis offendimur iniucundus sentiant venustate torquatos virtus, aequo periculis ducem perveniri maximis. Inprobitas carum repudiandae legantur, diuturnum dixisset quaeso, verentur censes dolorem mediocris choro efflorescere secutus bono oculis, placeat usu homines solvantur, periculis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-left animated bounceInLeft animation-delay-13">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Event with table - 27 September</div>-->
<!--<table class="table table-striped">-->
<!--<thead>-->
<!--<tr>-->
<!--<th>#</th>-->
<!--<th>First Name</th>-->
<!--<th>Last Name</th>-->
<!--<th>Username</th>-->
<!--</tr>-->
<!--</thead>-->
<!--<tbody>-->
<!--<tr>-->
<!--<td>1</td>-->
<!--<td>Mark</td>-->
<!--<td>Otto</td>-->
<!--<td>@mdo</td>-->
<!--</tr>-->
<!--<tr>-->
<!--<td>2</td>-->
<!--<td>Jacob</td>-->
<!--<td>Thornton</td>-->
<!--<td>@fat</td>-->
<!--</tr>-->
<!--<tr>-->
<!--<td>3</td>-->
<!--<td>Larry</td>-->
<!--<td>the Bird</td>-->
<!--<td>@twitter</td>-->
<!--</tr>-->
<!--</tbody>-->
<!--</table>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="col-sm-6 timeline-right">-->
<!--<div class="timeline-event timeline-event-right animated bounceInRight animation-delay-5">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Event with video - 30 January</div>-->
<!--<div class="video">-->
<!--<iframe src="http://player.vimeo.com/video/50061391?title=0&amp;byline=0&amp;portrait=0"></iframe>-->
<!--</div>-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-right animated bounceInRight animation-delay-7">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event - 14 April</div>-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, <strong>consectetur adipisicing elit</strong>. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret.</p>-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidam non ignorare gratissimo sua urbes numeris cohaerescent, numquam mi dedocere dolendum delectat infinito finibus. Molita scriptum iniucundus sublata intellegi cohaerescent audita primum gravioribus, solum emolumento iucunditatem futuros aristotelem vis insatiabiles, inesse gaudere, tu restincto platonis insidiarum iusteque accurate audeam cibo partes, intereant, noster maerores laborat pararetur durissimis, multoque centurionum cogitarent dissentio fecerit praetermissum magnosque honesta.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-right animated bounceInRight animation-delay-7">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event - 14 April</div>-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, <strong>consectetur adipisicing elit</strong>. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret.</p>-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidam non ignorare gratissimo sua urbes numeris cohaerescent, numquam mi dedocere dolendum delectat infinito finibus. Molita scriptum iniucundus sublata intellegi cohaerescent audita primum gravioribus, solum emolumento iucunditatem futuros aristotelem vis insatiabiles, inesse gaudere, tu restincto platonis insidiarum iusteque accurate audeam cibo partes, intereant, noster maerores laborat pararetur durissimis, multoque centurionum cogitarent dissentio fecerit praetermissum magnosque honesta.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-right animated bounceInRight animation-delay-7">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event - 14 April</div>-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, <strong>consectetur adipisicing elit</strong>. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret.</p>-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidam non ignorare gratissimo sua urbes numeris cohaerescent, numquam mi dedocere dolendum delectat infinito finibus. Molita scriptum iniucundus sublata intellegi cohaerescent audita primum gravioribus, solum emolumento iucunditatem futuros aristotelem vis insatiabiles, inesse gaudere, tu restincto platonis insidiarum iusteque accurate audeam cibo partes, intereant, noster maerores laborat pararetur durissimis, multoque centurionum cogitarent dissentio fecerit praetermissum magnosque honesta.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</section>-->
<!--<section>-->
<!--<h3 class="timeline-title"><span>2016</span></h3>-->
<!--<div class="row timeline">-->
<!--<div class="col-sm-6 timeline-left">-->
<!--<div class="timeline-event timeline-event-left animated bounceInLeft animation-delay-13">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event</div>-->
<!--&lt;!&ndash;<img src="assets/img/demo/w3.jpg" class="img-responsive" alt="Image">&ndash;&gt;-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret quosvis, tutiorem minuti religionis offendimur iniucundus sentiant venustate torquatos virtus, aequo periculis ducem perveniri maximis. Inprobitas carum repudiandae legantur, diuturnum dixisset quaeso, verentur censes dolorem mediocris choro efflorescere secutus bono oculis, placeat usu homines solvantur, periculis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-left animated bounceInLeft animation-delay-15">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event</div>-->
<!--&lt;!&ndash;<img src="assets/img/demo/w8.jpg" class="img-responsive" alt="Image">&ndash;&gt;-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret quosvis, tutiorem minuti religionis offendimur iniucundus sentiant venustate torquatos virtus, aequo periculis ducem perveniri maximis. Inprobitas carum repudiandae legantur, diuturnum dixisset quaeso, verentur censes dolorem mediocris choro efflorescere secutus bono oculis, placeat usu homines solvantur, periculis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="col-sm-6 timeline-right">-->
<!--<div class="timeline-event timeline-event-right animated bounceInRight animation-delay-13">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event</div>-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret quosvis, tutiorem minuti religionis offendimur iniucundus sentiant venustate torquatos virtus, aequo periculis ducem perveniri maximis. Inprobitas carum repudiandae legantur, diuturnum dixisset quaeso, verentur censes dolorem mediocris choro efflorescere secutus bono oculis, placeat usu homines solvantur, periculis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="timeline-event timeline-event-right animated bounceInRight animation-delay-17">-->
<!--<div class="panel panel-primary">-->
<!--<div class="panel-heading">Heading Event</div>-->
<!--&lt;!&ndash;<img src="assets/img/demo/w6.jpg" class="img-responsive" alt="Image">&ndash;&gt;-->
<!--<div class="panel-body">-->
<!--<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accessio p, delectu appetere eruditionem moribus, efficit, dominos unde adhibenda neglegit mox versuum leniter, caeco tenebimus laboriosam oriantur, admonere certae invenerit scientia malarum deorum imagines, democritum dignitatis opus obruamus, naturam iniurias nostri singulis meminerimus tarentinis amaret quosvis, tutiorem minuti religionis offendimur iniucundus sentiant venustate torquatos virtus, aequo periculis ducem perveniri maximis. Inprobitas carum repudiandae legantur, diuturnum dixisset quaeso, verentur censes dolorem mediocris choro efflorescere secutus bono oculis, placeat usu homines solvantur, periculis.</p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</section>-->
<!--</div> &lt;!&ndash; container &ndash;&gt;-->

<div class="container">

  <div class="row">
    <div class="col-xs-6 col-xs-offset-3">
      <%= render 'posts/new' %>
      <% current_user.posts.reverse_each do |post| %>
          <%= render partial: 'posts/post', :locals => {:firstname => current_user.firstname,
                                                        :lastname => current_user.lastname,
                                                        :content => post.content,
                                                        :post_created_at => post.created_at} %>
      <% end %>
    </div>
  </div>
</div>